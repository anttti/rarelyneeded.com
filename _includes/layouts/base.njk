<!doctype html>
<html lang="{{ metadata.language }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title or metadata.title }}</title>
    <meta name="description" content="{{ description or metadata.description }}">

    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="{{ metadata.title }}">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="{{ metadata.title }}">

    <style>
      :root {
        --text: rgba(0, 0, 0, 0.9);
        --background: #fafafa;
        --content-background: white;
        --link: #2570eb;
        --hr: rgba(0, 0, 0, 0.08);
      }
      @media (prefers-color-scheme: dark) {
        :root {
        --text: white;
        --background: rgba(0, 0, 0, 0.9);
        --content-background: rgba(0, 0, 0, 0.9);
        --link: #97bfff;
        --hr: rgb(85, 85, 85);
        }
      }
      body {
        color: var(--text);
        background: var(--background);
        margin: 1rem auto;
        max-inline-size: 46rem;
        padding: 1rem;
        font: 1.1rem/1.5 -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Cantarell, Ubuntu, roboto, noto, arial, sans-serif;
      }
      main {
        background: var(--content-background);
        padding: 0 clamp(1rem, 2.5vw, 3rem) 1rem;
        border: 1px solid var(--hr);
      }
      h1 {
        margin-block-start: clamp(1rem, 2.5vw, 2rem);
        line-height: 1.2;
      }
      h2, h3 {
        line-height: 1.4;
      }
      a, a:visited {
        color: var(--link);
      }
      hr {
        border: 0;
        background: var(--hr);
        block-size: 0.2rem;
      }
      picture, img {
        max-inline-size: 100%;
        block-size: auto;
      }
      .visually-hidden {
        clip: rect(0 0 0 0);
        clip-path: inset(50%);
        block-size: 1px;
        overflow: hidden;
        position: absolute;
        white-space: nowrap;
        inline-size: 1px;
      }
      nav ul, footer ul {
        display: flex;
        gap: 1rem;
        list-style: none;
        padding: 0;
        align-items: center;
      }
      nav li:has(svg[data-role=logo]) {
        line-height: 0;
      }
      footer {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <a href="#skip" class="visually-hidden">Skip to main content</a>

    <header>
      <nav>
        <h2 class="visually-hidden">Top level navigation menu</h2>
        <ul>
        {%- for entry in collections.all | eleventyNavigation %}
          <li><a href="{{ entry.url }}">{{ entry.title }}</a></li>
        {%- endfor %}
        <li><a href="/now">Now</a></li>
        <li><a href="/tags">Tags</a></li>
        <li><a href="/feed/feed.xml">
          RSS 
          <svg role="graphics-symbol" aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 32 32">
            <path fill="currentColor" d="M4.259 23.467c-2.35 0-4.259 1.917-4.259 4.252 0 2.349 1.909 4.244 4.259 4.244 2.358 0 4.265-1.895 4.265-4.244-0-2.336-1.907-4.252-4.265-4.252zM0.005 10.873v6.133c3.993 0 7.749 1.562 10.577 4.391 2.825 2.822 4.384 6.595 4.384 10.603h6.16c-0-11.651-9.478-21.127-21.121-21.127zM0.012 0v6.136c14.243 0 25.836 11.604 25.836 25.864h6.152c0-17.64-14.352-32-31.988-32z"></path>
          </svg>
        </a></li>
        </ul>
      </nav>
    </header>

    <main id="skip">
      {{ content | safe }}
    </main>
    
    <footer>
      <p>
        <small>
          <a href="https://mastodon.social/@anttti">Mastodon</a>
          <a href="https://github.com/anttti">Github</a>
        </small>
      </p>
    </footer>
  </body>
</html>
